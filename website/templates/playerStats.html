<head>
    <link rel="stylesheet" href="/static/playerStats.css">
  
    <script src="/static/playerStats.js"></script>
</head>
<body>
    <h1 class="title" id="title">
        PLAYER STATS
    </h1>
    
    <div style="overflow-x:auto;">
        <table id="statsTable">
            <thead>
                <tr id="statsHeaderRow">
                    <th >Player</th>
                    <th class="clickable" onclick="sortTable(1)">Points</th>
                    <th class="clickable" onclick="sortTable(2)">O Points</th>
                    <th class="clickable" onclick="sortTable(3)">D Points</th>
                    <th class="clickable" onclick="sortTable(4)">Holds</th>
                    <th class="clickable" onclick="sortTable(5)">Breaks</th>
                    <th class="clickable" onclick="sortTable(6)">EZ Chances</th>
                    <th class="clickable" onclick="sortTable(7)">EZ Scores</th>
                    <th class="clickable" onclick="sortTable(8)">Turnovers</th>
                    <th class="clickable" onclick="sortTable(9)">Blocks</th>
                </tr>
            </thead>
            <tbody id ="statsTableBody"></tbody>
        </table>
    </div>
    
    <script>
        // create stats table
        var tableBody = document.getElementById("statsTableBody");
    
        var playerStats = JSON.parse({{stats|tojson}});

        let rowIndex = 0;
        for (const [player, stats] of Object.entries(playerStats)) {
            let row = tableBody.insertRow(rowIndex++); // skip over header
            for(var i = 0; i < stats.length; i++) {
                var cell = row.insertCell(i);
                cell.innerHTML = stats[i]
            }
        }
        console.log(playerStats);
    </script>
</body>  